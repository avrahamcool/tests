<template>
	<require from="./flatpickr"></require>
	<style>
		.border {
			border: 1px solid black;
			margin: 1rem;
			padding: 1rem
		}

	</style>
	<button click.delegate="personContext.entities.push({id: -1, numberOfTeeth: 0, isAlive: true})">ADD</button>
	<button click.delegate="save()">SAVE</button>

	<div repeat.for="p of personContext.entities" class="border">
		<button click.delegate="personContext.entities.splice($index, 1)">REMOVE</button>
		<br>
		<span>id: ${p.id || "??"}</span>
		<label>firstName: <input value.bind="p.firstName" /></label>
		<label>lastName: <input value.bind="p.lastName" /></label>
		<label>birthDate: <input type="date" flatpickr.bind="p.birthDate" /></label>
		<label>isAlive: <input type="checkbox" checked.bind="p.isAlive" /></label>
		<label>numberOfTeeth: <input type="number" value-as-number.two-way="p.numberOfTeeth" /></label>
		<label>state:
			<select value.bind="p.state">
				<option model.bind="null"></option>
				<option repeat.for="state of states" model.bind="state.value">${state.description}</option>
			</select>
		</label>
	</div>
</template>
